{
  "device": "EM-07",
  "version": "1.0",
  "communication": {
    "modbus_id": 1,
    "baudrate": 9600,
    "parity": "N",
    "stop_bits": 1,
    "data_bits": 8,
	"addressing_mode": "1-based"
  },
"transformers": {
  "VTR": 1,
  "CTR": 20,
  "VTR_register": 4000,
  "CTR_register": 4001
},
  "logging": {
    "enabled": true,
    "interval_ms": 10000,
    "output_folder": "/logs/",
    "filename_format": "%Y-%m-%d.csv",
    "include_header": true
  },
  "debug": true,
  "registers": [
    {
      "key": "voltage_l1-n",
      "name": "Voltage L1-N",
      "description": "Napätie fázy L1 voči N",
      "register": 4002,
      "type": "UINT16",
      "unit": "V",
      "scaling": "val * 0.1 * VTR",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "voltage_l2-n",
      "name": "Voltage L2-N",
      "description": "Napätie fázy L2 voči N",
      "register": 4003,
      "type": "UINT16",
      "unit": "V",
      "scaling": "val * 0.1 * VTR",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "voltage_l3-n",
      "name": "Voltage L3-N",
      "description": "Napätie fázy L3 voči N",
      "register": 4004,
      "type": "UINT16",
      "unit": "V",
      "scaling": "val * 0.1 * VTR",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "current_l1",
      "name": "Current L1",
      "description": "Prúd fázy L1",
      "register": 4026,
      "type": "UINT16",
      "unit": "A",
      "scaling": "val * 0.01 * CTR",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "current_l2",
      "name": "Current L2",
      "description": "Prúd fázy L2",
      "register": 4027,
      "type": "UINT16",
      "unit": "A",
      "scaling": "val * 0.01 * CTR",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "current_l3",
      "name": "Current L3",
      "description": "Prúd fázy L3",
      "register": 4028,
      "type": "UINT16",
      "unit": "A",
      "scaling": "val * 0.01 * CTR",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "apparent_power_l1",
      "name": "Apparent Power L1",
      "description": "Zdánlivý výkon fázy L1",
      "register": 4072,
      "type": "UINT16",
      "unit": "VA",
      "scaling": "val * CTR * VTR",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "apparent_power_l2",
      "name": "Apparent Power L2",
      "description": "Zdánlivý výkon fázy L2",
      "register": 4073,
      "type": "UINT16",
      "unit": "VA",
      "scaling": "val * CTR * VTR",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "apparent_power_l3",
      "name": "Apparent Power L3",
      "description": "Zdánlivý výkon fázy L3",
      "register": 4074,
      "type": "UINT16",
      "unit": "VA",
      "scaling": "val * CTR * VTR",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "apparent_power_total",
      "name": "Apparent Power Total",
      "description": "Celkový zdánlivý výkon",
      "register": 4075,
      "type": "UINT16",
      "unit": "VA",
      "scaling": "val * CTR * VTR",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "frequency",
      "name": "Frequency",
      "description": "Frekvencia siete",
      "register": 4078,
      "type": "UINT16",
      "unit": "Hz",
      "scaling": "val * 0.01",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "power_factor_l1",
      "name": "Power Factor L1",
      "description": "Účinník fázy L1",
      "register": 4079,
      "type": "UINT16",
      "unit": "-",
      "scaling": "val * 0.001",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "power_factor_l2",
      "name": "Power Factor L2",
      "description": "Účinník fázy L2",
      "register": 4080,
      "type": "UINT16",
      "unit": "-",
      "scaling": "val * 0.001",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "power_factor_l3",
      "name": "Power Factor L3",
      "description": "Účinník fázy L3",
      "register": 4081,
      "type": "UINT16",
      "unit": "-",
      "scaling": "val * 0.001",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "power_factor_total",
      "name": "Power Factor Total",
      "description": "Celkový účinník",
      "register": 4082,
      "type": "UINT16",
      "unit": "-",
      "scaling": "val * 0.001",
      "access": "R-only",
      "length": 1
    },
    {
      "key": "active_energy_import",
      "name": "Active Energy Import",
      "description": "Načítaná aktívna energia",
      "register": 4100,
      "type": "UINT32",
      "unit": "kWh",
      "scaling": "val * 0.01",
      "access": "R-only",
      "length": 2
    },
    {
      "key": "reactive_energy_import",
      "name": "Reactive Energy Import",
      "description": "Načítaná jalová energia",
      "register": 4102,
      "type": "UINT32",
      "unit": "kvarh",
      "scaling": "val * 0.01",
      "access": "R-only",
      "length": 2
    }
  ]
}
